{"version":3,"sources":["webpack:///src/app/send-order/send-order.page.html","webpack:///src/app/send-order/send-order-routing.module.ts","webpack:///src/app/send-order/send-order.module.ts","webpack:///src/app/send-order/send-order.page.scss","webpack:///src/app/send-order/send-order.page.ts"],"names":["routes","path","component","SendOrderPageRoutingModule","imports","forChild","exports","SendOrderPageModule","declarations","SendOrderPage","apiService","g","router","activatedRoute","toastController","global","nav","modalCtrl","cash","isLoading","showError","activated","promotions_available","subtotal","total","minimum_applicable_commissions","promo_seleccionada","costo_envio","commissions","tipo","shoppingList","totalCost","selectedRadioGroup","parseFloat","getAppConfigFlag","console","log","user_info","getSubtotal","checkPromos","getTotalCost","i","fruits","length","kg","parseInt","pc","push","selectedWeight","price","vegetables","spices","carnes","cremeria","otros","item","index","seleccionada","setTimeout","found","filter","x","navigate","promotions_discount","promo","minimum_amount","permitida","diferencia","toFixed","promotions_freedelivery","exist","is_free_product","promotions_freeproduct","descuento","discount_price","descuento_otorgado","getCommissions","iduser","finish_order","id_category","event","detail","value","notes","pickUpNotes","total_orden","obj","navigationExtras","state","user_id","getReferredCommissionsByUserId","subscribe","response","commisionsResponse","Object","entries","forEach","key","commission","selector","template"],"mappings":"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","file":"send-order-send-order-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n\\r\\n  <ion-toolbar mode=\\\"ios\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button class=\\\"custom-button\\\" (click)=\\\"back()\\\"\\r\\n        style=\\\"color: white !important;text-transform: capitalize !important;\\\">\\r\\n        <ion-icon style=\\\"color: white !important;text-transform: capitalize !important;\\\" name=\\\"chevron-back-outline\\\">\\r\\n        </ion-icon>\\r\\n        <span style=\\\"color: white !important;font-weight: bold;\\\">VOLVER</span>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-img src=\\\"assets/zanahoria_blanca.png\\\"\\r\\n      style=\\\"width:6%;float:right;padding-top:0px!important;margin-top:0px!important\\\"\\r\\n      class=\\\"img_header ion-margin-top ion-padding-top\\\"></ion-img>\\r\\n\\r\\n  </ion-toolbar>\\r\\n\\r\\n\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <div class=\\\"body-button\\\" style=\\\"text-align: center;margin-top:7%\\\">\\r\\n    <ion-img src=\\\"assets/mi_carrito.png\\\" (click)=\\\"carrito()\\\"\\r\\n      style=\\\"width:20vh;padding-top:0px!important;margin-top:0px!important\\\"\\r\\n      class=\\\"img_header ion-margin-top ion-padding-top\\\"></ion-img>\\r\\n  </div>\\r\\n  <div class=\\\"totales\\\" style=\\\"margin-top:3%\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"1\\\"></ion-col>\\r\\n        <ion-col size=\\\"8\\\">\\r\\n          <span style=\\\"color:black;font-weight: bold;\\\">Subtotal de la compra: </span>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"3\\\">\\r\\n          <span style=\\\"color:black;font-weight: bold;\\\">{{subtotal | currency}}</span>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row *ngIf=\\\"promo_seleccionada == null || promo_seleccionada?.tipo != 'ENVIO'\\\">\\r\\n        <ion-col size=\\\"1\\\"></ion-col>\\r\\n        <ion-col size=\\\"8\\\">\\r\\n          <span style=\\\"color:black;font-weight: bold;\\\">Tarifa de entrega: </span>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"3\\\">\\r\\n          <span style=\\\"color:black;font-weight: bold;\\\">{{costo_envio | currency }}</span>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row *ngIf=\\\"promo_seleccionada != null && promo_seleccionada.tipo == 'ENVIO'\\\">\\r\\n        <ion-col size=\\\"1\\\"></ion-col>\\r\\n        <ion-col size=\\\"8\\\">\\r\\n          <span style=\\\"color:black;font-weight: bold;text-decoration-line: line-through;\\\">Tarifa de entrega: </span>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"3\\\">\\r\\n          <span style=\\\"color:black;font-weight: bold;\\\">$0.00</span>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row *ngIf=\\\"promo_seleccionada != null && promo_seleccionada.tipo == 'DESCUENTO'\\\">\\r\\n        <ion-col size=\\\"1\\\"></ion-col>\\r\\n        <ion-col size=\\\"8\\\">\\r\\n          <span style=\\\"color:black;font-weight: bold;\\\">Descuento: </span>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"3\\\">\\r\\n          <span style=\\\"color:black;font-weight: bold; color:red !important;\\\">- {{ promo_seleccionada.descuento_otorgado | currency }}</span>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row *ngIf=\\\"commissions!=0\\\">\\r\\n        <ion-col size=\\\"1\\\"></ion-col>\\r\\n        <ion-col size=\\\"8\\\">\\r\\n          <span style=\\\"color:black;font-weight: bold; color:red !important;\\\">Comisiones: </span>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"3\\\">\\r\\n          <span style=\\\"color:black;font-weight: bold; color:red !important;\\\">- {{ commissions | currency }}</span>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      \\r\\n\\r\\n    </ion-grid>\\r\\n  </div>\\r\\n\\r\\n\\r\\n  <div>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"1\\\"></ion-col>\\r\\n      <ion-col size=\\\"10\\\">\\r\\n        <textarea [(ngModel)]=\\\"pickUpNotes\\\" placeholder=\\\"AGREGA AQUI TUS COMENTARIOS SOBRE TU PEDIDO\\\" rows=\\\"6\\\"\\r\\n          style=\\\"text-align:center;border: 2px solid #dbdbdb;border-radius: 18px;width: 100% !important;height: 100% !important;background-color: #dbdbdb;color: black;font-weight: 300;\\\">\\r\\n        </textarea>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"1\\\"></ion-col>\\r\\n    </ion-row>\\r\\n  </div>\\r\\n\\r\\n\\r\\n  <div *ngIf=\\\"promotions_available.length >= 1\\\" style=\\\"margin-top:3%\\\">\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"1\\\"></ion-col>\\r\\n      <ion-col size=\\\"10\\\">\\r\\n        <hr style=\\\"background-color:#ec760a;height:2px;\\\" />\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-row *ngFor=\\\"let item of promotions_available; let i = index\\\">\\r\\n      <ion-col size=\\\"1\\\"></ion-col>\\r\\n      <ion-col size=\\\"11\\\" *ngIf=\\\"item.permitida\\\">\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"10\\\">\\r\\n            <span style=\\\"font-weight: bold;font-size: 15px;\\\">{{item.description}}\\r\\n            </span>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"2\\\">\\r\\n            <ion-checkbox (click)=\\\"updatePromoSeleccionada(item, i)\\\" [checked]=\\\"item.seleccionada\\\"></ion-checkbox>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"11\\\" *ngIf=\\\"!item.permitida\\\">\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"10\\\" *ngIf=\\\"item.tipo == 'DESCUENTO'\\\">\\r\\n            <span style=\\\"text-decoration-line: line-through;font-weight: bold;font-size: 15px;\\\">{{item.description}}\\r\\n            </span><br />\\r\\n            <span style=\\\"font-style: italic;font-size:13px;\\\">Necesitas {{item.diferencia | currency }} en tu carrito\\r\\n              para poder seleccionar esta promocion.\\r\\n            </span>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"10\\\" *ngIf=\\\"item.tipo != 'DESCUENTO'\\\">\\r\\n            <span style=\\\"text-decoration-line: line-through;font-weight: bold;font-size: 15px;\\\">{{item.description}}\\r\\n            </span>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"2\\\">\\r\\n            <ion-checkbox disabled></ion-checkbox>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"1\\\"></ion-col>\\r\\n      <ion-col size=\\\"10\\\">\\r\\n        <hr style=\\\"background-color:#ec760a;height:2px;\\\" />\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </div>\\r\\n  <div class=\\\"total\\\">\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"3\\\"></ion-col>\\r\\n      <ion-col size=\\\"6\\\" style=\\\"text-align: center;\\\">\\r\\n        <span style=\\\"color:black;font-weight: bold;font-size: 17px;color:#ec760a\\\">Total Aproximado: {{total | currency }}</span>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"3\\\">\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </div>\\r\\n  <div class=\\\"body-button\\\" style=\\\"text-align: center;margin-top:5%;margin-bottom:4%\\\">\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"3\\\"></ion-col>\\r\\n      <ion-col size=\\\"6\\\" style=\\\"text-align: center;\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"buscar-btn\\\" style=\\\"width: 100%\\\" (click)=\\\"elegirHorario()\\\">CONTINUAR</button>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"3\\\"></ion-col>\\r\\n    </ion-row>\\r\\n  </div>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SendOrderPage } from './send-order.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SendOrderPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SendOrderPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SendOrderPageRoutingModule } from './send-order-routing.module';\r\n\r\nimport { SendOrderPage } from './send-order.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SendOrderPageRoutingModule\r\n  ],\r\n  declarations: [SendOrderPage]\r\n})\r\nexport class SendOrderPageModule {}\r\n","export default \".img_header {\\n  width: auto;\\n  margin: auto;\\n  display: block;\\n}\\n\\n.header {\\n  --background: #00b050;\\n  color: #FFF;\\n  text-align: center;\\n  width: 100%;\\n  padding: 0px;\\n}\\n\\n.header ion-text {\\n  margin: auto;\\n  display: block;\\n}\\n\\n.green {\\n  background: #00b050;\\n}\\n\\nion-spinner {\\n  display: block;\\n  margin: auto;\\n}\\n\\n.img_header {\\n  width: auto;\\n  margin: auto;\\n  display: block;\\n}\\n\\nion-toolbar {\\n  --background: #ff7f23;\\n}\\n\\n.buscar-btn {\\n  border-radius: 20px;\\n  font-size: 14px;\\n  font-weight: bold;\\n  background-color: #00b050;\\n  color: white;\\n  padding: 12px 12px 12px;\\n}\\n\\n::-moz-placeholder {\\n  text-align: center;\\n  font-weight: 500;\\n  vertical-align: middle;\\n  color: black;\\n}\\n\\n::placeholder {\\n  text-align: center;\\n  font-weight: 500;\\n  vertical-align: middle;\\n  color: black;\\n}\\n\\n.header {\\n  color: #FFF;\\n  text-align: center;\\n  width: 100%;\\n  padding: 0px;\\n}\\n\\n.header ion-text {\\n  margin: auto;\\n  display: block;\\n}\\n\\n.green {\\n  background: #00b050;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsZnJlZG8vQWxmcmVkby9QZXJzb25hbC9Qcm95ZWN0b3MvRnJlc2tvL2ZyZXNrby1hcHAvc3JjL2FwcC9zZW5kLW9yZGVyL3NlbmQtb3JkZXIucGFnZS5zY3NzIiwic3JjL2FwcC9zZW5kLW9yZGVyL3NlbmQtb3JkZXIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0FDQ0o7O0FEQ0U7RUFDRSxxQkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDRUo7O0FEQUU7RUFDRSxZQUFBO0VBQ0EsY0FBQTtBQ0dKOztBRERFO0VBQ0UsbUJBQUE7QUNJSjs7QURGRTtFQUNFLGNBQUE7RUFDQSxZQUFBO0FDS0o7O0FEREU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7QUNJSjs7QURGRTtFQUNFLHFCQUFBO0FDS0o7O0FERkM7RUFDQyxtQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLHVCQUFBO0FDS0Y7O0FERkM7RUFDRSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0Esc0JBQUE7RUFFQSxZQUFBO0FDSUg7O0FEVEM7RUFDRSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0Esc0JBQUE7RUFFQSxZQUFBO0FDSUg7O0FEREU7RUFFRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ0dKOztBRERFO0VBQ0UsWUFBQTtFQUNBLGNBQUE7QUNJSjs7QURGRTtFQUNFLG1CQUFBO0FDS0oiLCJmaWxlIjoic3JjL2FwcC9zZW5kLW9yZGVyL3NlbmQtb3JkZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmltZ19oZWFkZXIge1xyXG4gICAgd2lkdGg6IGF1dG87XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICB9XHJcbiAgLmhlYWRlcntcclxuICAgIC0tYmFja2dyb3VuZDogIzAwYjA1MDtcclxuICAgIGNvbG9yOiAjRkZGO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBwYWRkaW5nOiAwcHg7XHJcbiAgfVxyXG4gIC5oZWFkZXIgaW9uLXRleHR7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICB9XHJcbiAgLmdyZWVuIHtcclxuICAgIGJhY2tncm91bmQ6ICMwMGIwNTA7XHJcbiAgfVxyXG4gIGlvbi1zcGlubmVyIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gIH1cclxuXHJcblxyXG4gIC5pbWdfaGVhZGVyIHtcclxuICAgIHdpZHRoOiBhdXRvO1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgfVxyXG4gIGlvbi10b29sYmFyIHtcclxuICAgIC0tYmFja2dyb3VuZDogI2ZmN2YyMztcclxuIH1cclxuXHJcbiAuYnVzY2FyLWJ0bntcclxuICBib3JkZXItcmFkaXVzOiAyMHB4O1xyXG4gIGZvbnQtc2l6ZTogMTRweDsgICAgXHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwYjA1MDtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgcGFkZGluZzogMTJweCAxMnB4IDEycHg7XHJcbn1cclxuXHJcbiA6OnBsYWNlaG9sZGVye1xyXG4gICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgLy8gIG1hcmdpbi10b3A6IDE1JTtcclxuICAgY29sb3I6IGJsYWNrO1xyXG4gfVxyXG4gXHJcbiAgLmhlYWRlcntcclxuICAgIC8vLS1iYWNrZ3JvdW5kOiAjMDBiMDUwO1xyXG4gICAgY29sb3I6ICNGRkY7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmc6IDBweDtcclxuICB9XHJcbiAgLmhlYWRlciBpb24tdGV4dHtcclxuICAgIG1hcmdpbjogYXV0bztcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gIH1cclxuICAuZ3JlZW4ge1xyXG4gICAgYmFja2dyb3VuZDogIzAwYjA1MDtcclxuICB9XHJcbiAgXHJcbiIsIi5pbWdfaGVhZGVyIHtcbiAgd2lkdGg6IGF1dG87XG4gIG1hcmdpbjogYXV0bztcbiAgZGlzcGxheTogYmxvY2s7XG59XG5cbi5oZWFkZXIge1xuICAtLWJhY2tncm91bmQ6ICMwMGIwNTA7XG4gIGNvbG9yOiAjRkZGO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAwcHg7XG59XG5cbi5oZWFkZXIgaW9uLXRleHQge1xuICBtYXJnaW46IGF1dG87XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4uZ3JlZW4ge1xuICBiYWNrZ3JvdW5kOiAjMDBiMDUwO1xufVxuXG5pb24tc3Bpbm5lciB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW46IGF1dG87XG59XG5cbi5pbWdfaGVhZGVyIHtcbiAgd2lkdGg6IGF1dG87XG4gIG1hcmdpbjogYXV0bztcbiAgZGlzcGxheTogYmxvY2s7XG59XG5cbmlvbi10b29sYmFyIHtcbiAgLS1iYWNrZ3JvdW5kOiAjZmY3ZjIzO1xufVxuXG4uYnVzY2FyLWJ0biB7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMGIwNTA7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgcGFkZGluZzogMTJweCAxMnB4IDEycHg7XG59XG5cbjo6cGxhY2Vob2xkZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIGNvbG9yOiBibGFjaztcbn1cblxuLmhlYWRlciB7XG4gIGNvbG9yOiAjRkZGO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAwcHg7XG59XG5cbi5oZWFkZXIgaW9uLXRleHQge1xuICBtYXJnaW46IGF1dG87XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4uZ3JlZW4ge1xuICBiYWNrZ3JvdW5kOiAjMDBiMDUwO1xufSJdfQ== */\";","import { GlobalService } from './../services/global.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { Globals } from 'src/app/globals';\r\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\r\nimport { ModalController, NavController, ToastController } from '@ionic/angular';\r\nimport { FinishOrderPage } from '../finish-order/finish-order.page';\r\nimport { HorarioEntregaPage } from '../horario-entrega/horario-entrega.page';\r\n\r\n@Component({\r\n  selector: 'app-send-order',\r\n  templateUrl: './send-order.page.html',\r\n  styleUrls: ['./send-order.page.scss'],\r\n})\r\nexport class SendOrderPage implements OnInit {\r\n  selectedRadioGroup: string;\r\n  cash = true;\r\n  isLoading = false;\r\n  showError = false;\r\n  message: string;\r\n  pickUpNotes: string;\r\n  toast: any;\r\n  activated = false;\r\n  promotions_available = [];\r\n  subtotal = 0;\r\n  total = 0;\r\n  minimum_applicable_commissions = 250;\r\n  promo_seleccionada = null;\r\n  costo_envio = 45.00;\r\n  commissions = 0;\r\n  tipo = \"send-order\";\r\n  shoppingList = [];\r\n  totalCost = 0;\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private g: Globals,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    public toastController: ToastController,\r\n    private global: GlobalService,\r\n    private nav: NavController,\r\n    private modalCtrl: ModalController\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.selectedRadioGroup = 'M';\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.costo_envio = parseFloat(this.global.getAppConfigFlag(\"COSTO_ENVIO\"));\r\n    console.log('Res', this.global.user_info);\r\n    this.getSubtotal();\r\n    this.checkPromos();\r\n    this.getTotalCost();\r\n    console.log('Promos', this.promotions_available);\r\n  }\r\n\r\n  getTotalCost() {\r\n    this.totalCost = 0;\r\n    this.shoppingList = [];\r\n    for (let i = 0; i < this.g.fruits.length; i++) {\r\n      if (parseFloat(this.g.fruits[i].kg) > 0 || parseInt(this.g.fruits[i].pc, 10) > 0) {\r\n        this.shoppingList.push(this.g.fruits[i]);\r\n        this.totalCost += (this.g.fruits[i].selectedWeight / 1000) * this.g.fruits[i].price;\r\n      }\r\n    }\r\n    for (let i = 0; i < this.g.vegetables.length; i++) {\r\n      if (parseFloat(this.g.vegetables[i].kg) > 0 || parseInt(this.g.vegetables[i].pc, 10) > 0) {\r\n        this.shoppingList.push(this.g.vegetables[i]);\r\n        this.totalCost += (this.g.vegetables[i].selectedWeight / 1000) * this.g.vegetables[i].price;\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < this.g.spices.length; i++) {\r\n      if (parseFloat(this.g.spices[i].kg) > 0 || parseInt(this.g.spices[i].pc, 10) > 0) {\r\n        this.shoppingList.push(this.g.spices[i]);\r\n        this.totalCost += (this.g.spices[i].selectedWeight / 1000) * this.g.spices[i].price;\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < this.g.carnes.length; i++) {\r\n      if (parseFloat(this.g.carnes[i].kg) > 0 || parseInt(this.g.carnes[i].pc, 10) > 0) {\r\n        this.shoppingList.push(this.g.carnes[i]);\r\n        this.totalCost += (this.g.carnes[i].selectedWeight / 1000) * this.g.carnes[i].price;\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < this.g.cremeria.length; i++) {\r\n      if (parseFloat(this.g.cremeria[i].kg) > 0 || parseInt(this.g.cremeria[i].pc, 10) > 0) {\r\n        this.shoppingList.push(this.g.cremeria[i]);\r\n        this.totalCost += (this.g.cremeria[i].selectedWeight / 1000) * this.g.cremeria[i].price;\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < this.g.otros.length; i++) {\r\n      if (parseFloat(this.g.otros[i].kg) > 0 || parseInt(this.g.otros[i].pc, 10) > 0) {\r\n        this.shoppingList.push(this.g.otros[i]);\r\n        this.totalCost += (this.g.otros[i].selectedWeight / 1000) * this.g.otros[i].price;\r\n      }\r\n    }\r\n    this.g.shoppingList = this.shoppingList;\r\n    console.log('Shipping list', this.shoppingList);\r\n  }\r\n\r\n  async updatePromoSeleccionada(item, index) {\r\n    for (let i = 0; i < this.promotions_available.length; i++) {\r\n      if (i != index) {\r\n        this.promotions_available[i].seleccionada = false;\r\n      }\r\n    }\r\n    setTimeout(() => {\r\n      if (this.promotions_available[index].seleccionada == false) {\r\n        this.promotions_available[index].seleccionada = true;\r\n      } else {\r\n        this.promotions_available[index].seleccionada = false;\r\n      }\r\n      console.log('Promos Seleccionadas', this.promotions_available);\r\n      let found = this.promotions_available.filter(x => {\r\n        if (x.seleccionada == true) {\r\n          return x;\r\n        }\r\n      });\r\n      if (found.length >= 1) {\r\n        this.promo_seleccionada = found[0];\r\n      } else {\r\n        this.promo_seleccionada = null;\r\n      }\r\n\r\n      // if(this.promo_seleccionada != null){\r\n      this.getSubtotal();\r\n      // }\r\n    }, 200);\r\n  }\r\n\r\n\r\n  async carrito() {\r\n    // this.global.finish_order_return = \"send-order\";\r\n    this.router.navigate(['finish-order']);\r\n  }\r\n\r\n  checkPromos() {\r\n    this.promotions_available = [];\r\n    if (this.global.user_info.promotions_discount) {\r\n      for (var i = 0; i < this.global.user_info.promotions_discount.length; i++) {\r\n        var promo = this.global.user_info.promotions_discount[i];\r\n        if (parseFloat(promo.minimum_amount) <= this.subtotal) {\r\n          promo.permitida = true;\r\n          promo.tipo = 'DESCUENTO';\r\n          promo.diferencia = 0;\r\n          promo.seleccionada = false;\r\n          this.promotions_available.push(promo);\r\n        } else {\r\n          promo.permitida = false;\r\n          promo.tipo = 'DESCUENTO';\r\n          promo.seleccionada = false;\r\n          promo.diferencia = (promo.minimum_amount - this.subtotal).toFixed(2);\r\n          this.promotions_available.push(promo);\r\n        }\r\n      }\r\n    } if (this.global.user_info.promotions_freedelivery) {\r\n      for (var i = 0; i < this.global.user_info.promotions_freedelivery.length; i++) {\r\n        let exist = this.promotions_available.filter(x => {\r\n          if (x.is_free_product == 1) {\r\n            return x;\r\n          }\r\n        });\r\n        if (exist.length == 0) {\r\n          this.global.user_info.promotions_freedelivery[i].permitida = true;\r\n          this.global.user_info.promotions_freedelivery[i].tipo = 'ENVIO';\r\n          this.global.user_info.promotions_freedelivery[i].diferencia = 0;\r\n          this.global.user_info.promotions_freedelivery[i].seleccionada = false;\r\n          this.promotions_available.push(this.global.user_info.promotions_freedelivery[i]);\r\n        }\r\n      }\r\n    } if (this.global.user_info.promotions_freeproduct) {\r\n\r\n    }\r\n  }\r\n\r\n  async getSubtotal() {\r\n    this.subtotal = 0;\r\n    for (let i = 0; i < this.g.fruits.length; i++) {\r\n      if (parseFloat(this.g.fruits[i].kg) > 0 || parseInt(this.g.fruits[i].pc, 10) > 0) {\r\n        this.subtotal += (this.g.fruits[i].selectedWeight / 1000) * this.g.fruits[i].price;\r\n      }\r\n    }\r\n    for (let i = 0; i < this.g.vegetables.length; i++) {\r\n      if (parseFloat(this.g.vegetables[i].kg) > 0 || parseInt(this.g.vegetables[i].pc, 10) > 0) {\r\n        this.subtotal += (this.g.vegetables[i].selectedWeight / 1000) * this.g.vegetables[i].price;\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < this.g.spices.length; i++) {\r\n      if (parseFloat(this.g.spices[i].kg) > 0 || parseInt(this.g.spices[i].pc, 10) > 0) {\r\n        this.subtotal += (this.g.spices[i].selectedWeight / 1000) * this.g.spices[i].price;\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < this.g.carnes.length; i++) {\r\n      if (parseFloat(this.g.carnes[i].kg) > 0 || parseInt(this.g.carnes[i].pc, 10) > 0) {\r\n        this.subtotal += (this.g.carnes[i].selectedWeight / 1000) * this.g.carnes[i].price;\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < this.g.cremeria.length; i++) {\r\n      if (parseFloat(this.g.cremeria[i].kg) > 0 || parseInt(this.g.cremeria[i].pc, 10) > 0) {\r\n        this.subtotal += (this.g.cremeria[i].selectedWeight / 1000) * this.g.cremeria[i].price;\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < this.g.otros.length; i++) {\r\n      if (parseFloat(this.g.otros[i].kg) > 0 || parseInt(this.g.otros[i].pc, 10) > 0) {\r\n        this.subtotal += (this.g.otros[i].selectedWeight / 1000) * this.g.otros[i].price;\r\n      }\r\n    }\r\n    console.log('Subtotal', this.subtotal);\r\n    this.total = 0;\r\n    this.total = this.subtotal;\r\n    this.total += this.costo_envio;\r\n    if (this.promo_seleccionada != null) {\r\n      if (this.promo_seleccionada.tipo == 'ENVIO') {\r\n        this.total -= this.costo_envio;\r\n      } else if (this.promo_seleccionada.tipo == 'DESCUENTO') {\r\n        let descuento = this.subtotal * parseFloat(\"0.\" + this.promo_seleccionada.discount_price);\r\n        this.promo_seleccionada.descuento_otorgado = descuento;\r\n        this.total -= descuento;\r\n      }\r\n    }\r\n    if(this.total>this.minimum_applicable_commissions)\r\n    {\r\n      await this.getCommissions(this.global.user_info.iduser)\r\n    }\r\n  }\r\n\r\n  back() {\r\n    if (this.global.finish_order == \"products\") {\r\n      this.router.navigate(['/finish-order']);\r\n    } else {\r\n      this.router.navigate(['/tabs2/products/' + this.global.id_category]);\r\n    }\r\n  }\r\n\r\n  radioGroupChange(event) {\r\n    this.selectedRadioGroup = event.detail.value;\r\n    if (this.selectedRadioGroup == 'P') {\r\n      this.activated = true;\r\n    } else {\r\n      this.activated = false;\r\n    }\r\n  }\r\n\r\n  async elegirHorario() {\r\n    console.log('shoppingList Send Order', this.g.shoppingList);\r\n    this.g.notes = this.pickUpNotes;\r\n    this.g.total_orden = this.total;\r\n    this.g.promo_seleccionada = this.promo_seleccionada;\r\n    let obj = {\r\n      tipo: this.tipo,\r\n      id_category: this.global.id_category\r\n    }\r\n    let navigationExtras: NavigationExtras = {\r\n      state: obj\r\n    };\r\n    this.router.navigate(['horario-entrega'], navigationExtras)\r\n  }\r\n\r\n  async getCommissions(user_id) {\r\n\r\n    this.apiService.getReferredCommissionsByUserId(user_id)\r\n      .subscribe((response: any) => {\r\n        if (response.commissions.length >= 1) {\r\n          let total = 0\r\n          let commisionsResponse: any[] = response.commissions\r\n          Object.entries(commisionsResponse).forEach(([key, value]) => {\r\n            total = total + parseFloat(value.commission)\r\n          });\r\n          this.commissions = total\r\n          this.total = this.total - total\r\n        }\r\n\r\n      });\r\n\r\n\r\n  }\r\n}\r\n"]}